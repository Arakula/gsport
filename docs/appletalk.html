<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2017-10-05 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>GSport - GSport AppleTalk</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Peter Neubauer" />
    <meta name="Date-Revision-yyyymmdd" content="20171005" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                GSport: an Apple IIgs Emulator
                </div>
                          <div id="bannerRight">
                
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-10-05</span>
                  &nbsp;| <span id="projectVersion">Version: 0.31</span>
                      </div>
            <div class="xright">                    <a href="http://github.com/david-schmidt/gsport/releases" class="externalLink" title="Download">Download</a>
            |
                        <a href="http://github.com/david-schmidt/gsport" class="externalLink" title="Project Development Page">Project Development Page</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>GSport</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Main">Main</a>
            </li>
                  <li class="none">
                          <a href="http://github.com/david-schmidt/gsport/releases" class="externalLink" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="operating.html" title="Operating">Operating</a>
            </li>
                  <li class="none">
                          <a href="developing.html" title="Developing">Developing</a>
            </li>
                  <li class="none">
            <strong>Emulated Appletalk</strong>
          </li>
                  <li class="none">
                          <a href="ethernet.html" title="Emulated Ethernet">Emulated Ethernet</a>
            </li>
                  <li class="none">
                          <a href="printer.html" title="Emulated Printers">Emulated Printers</a>
            </li>
                  <li class="none">
                          <a href="history.html" title="History">History</a>
            </li>
          </ul>
                             <a href="https://github.com/david-schmidt/gsport"><img src="https://assets-cdn.github.com/images/modules/logos_page/GitHub-Logo.png" width="100" alt="Get GSport at Github." /></a>
        
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2>AppleTalk Emulation and Bridging for GSport<a name="AppleTalk_Emulation_and_Bridging_for_GSport"></a></h2>
<p>GSport now emulates the AppleTalk networking hardware found in the real Apple IIgs and bridges the networking packets to EtherTalk v2. GSport supports file sharing, printer sharing, and network booting features using Apple's original AppleTalk software, such as that shipped with GS/OS 6.0.1. Note that the original AppleTalk software is not directly compatible with modern software, and you will need a compatible file server, such as netatalk or A2SERVER.</p>
<div class="section">
<h3>Introduction<a name="Introduction"></a></h3>
<p>The Apple IIgs shipped with a fantastic but often overlooked feature -- AppleTalk networking. AppleTalk is a low-cost, easy-to-maintain network technology that enables network booting, file sharing, and printer sharing between your Apple IIgs, Workstation Card equipped Apple IIe, and classic Macintosh machines. As of March 2014, GSport is the first modern emulator with support for AppleTalk. Now, you can just &quot;drag and drop&quot; files between your machines without thinking about disk images, FTP, or serial cables. You can develop new software with an emulator and quickly test on real hardware. You don't need to think much about version control. Rather, you can update the file once on your file server, and all of your emulated and real machines have the new file. You can download the latest Apple II software and immediately run it.</p>
<p>Beware that Apple changed the meaning of the word &quot;AppleTalk.&quot; Originally, AppleTalk implied a physical layer using 3-pin MiniDIN shielded cables connected in a bus topology. As other physical layers such as Ethernet and TokenTalk became more affordable, Apple defined new terms. The term AppleTalk no longer implied MiniDIN cabling. Rather, AppleTalk became the overall term for Apple's approach to networking. LocalTalk refers to AppleTalk using the original MiniDIN physical and link layers. EtherTalk refers to AppleTalk using the Ethernet link and physical layers. TokenTalk refers to AppleTalk using the TokenRing link and physical layers. As the Internet became popular, Apple revised their approach to networking to use TCP/IP for the network and transport layers. The &quot;Internet modernized&quot; AppleTalk (AppleTalk IP) replaces many key services of the older AppleTalk and is incompatible with the previous incarnation of AppleTalk. The IIgs only supports AppleTalk using LocalTalk. The GSport emulation converts LocalTalk to EtherTalk but does <b>not</b> support AppleTalk over IP.</p></div>
<div class="section">
<h3>Using It<a name="Using_It"></a></h3>
<p>First, you need an AppleShare-compatible server. A classic Mac or &quot;netatalk&quot; server could provide this function. For simplicity, I recommend Ivan Drucker's A2SERVER (<a class="externalLink" href="http://appleii.ivanx.com/a2server/">http://appleii.ivanx.com/a2server/</a>), which is a pre-configured and easy-to-use package with &quot;netatalk&quot; and other useful tools. You may run A2SERVER in a VirtualBox virtual machine, on an existing Linux server, or on a Raspberry Pi. File and print sharing functions built-in to modern computers are not directly compatible.</p>
<p>Second, you need GSport 0.3 or later with ROM03 running on a Windows or Linux (x86 or Raspberry Pi) machine. Start GSport and press F4 to access the configuration menu. If necessary, select a ROM03 image. Select the &quot;Ethernet Card Configuration&quot; menu option. Change &quot;AppleTalk Bridging&quot; to &quot;On&quot;. Change &quot;Use Interface Number&quot; to select the network where you have attached your AppleShare server or A2SERVER. Exit the GSport configuration menu.</p>
<p>You may run GSport and netatalk (or A2SERVER) on the same machine:</p>
<p>On Windows:</p>
<ol style="list-style-type: decimal">
<li>Configure A2SERVER in a VirtualBox virtual machine. The A2SERVER project provides a pre-configured virtual machine as well as manual installation directions.</li>
<li>Install the &quot;Microsoft Loopback Adapter&quot; following directions from Microsoft. See <a class="externalLink" href="http://blogs.msdn.com/b/ukvsts/archive/2009/02/27/adding-the-ms-loopback-adapter-on-windows-7.aspx">http://blogs.msdn.com/b/ukvsts/archive/2009/02/27/adding-the-ms-loopback-adapter-on-windows-7.aspx</a> and <a class="externalLink" href="http://technet.microsoft.com/en-us/library/cc708322%28v=ws.10%29.aspx">http://technet.microsoft.com/en-us/library/cc708322%28v=ws.10%29.aspx</a>.</li>
<li>In the VirtualBox Manager, open &quot;Settings&quot; for the A2SERVER virtual machine. Select the &quot;Network&quot; section. Change the &quot;Attached to&quot; option to &quot;Bridged Adapter&quot; and &quot;Name&quot; to &quot;Microsoft Loopback Adapter&quot;. Under the &quot;Advanced&quot; sub-section, make sure &quot;Promiscuous Mode&quot; is &quot;Allow All&quot;.</li>
<li>Restart A2SERVER.</li>
<li>Restart GSport. Under the &quot;Ethernet Card Configuration&quot; menu, change &quot;Use Interface Number&quot; to select the &quot;MS LoopBack Driver&quot;.</li></ol>
<p>On Linux:</p>
<p>(Directions are forthcoming.)</p>
<p>Finally, party like it is 1989. Your GS is now connected to the AppleTalk network. Refer to Apple's documentation included with GS/OS System 5 and 6 for further directions.</p></div>
<div class="section">
<h3>Internal Overview<a name="Internal_Overview"></a></h3>
<p>GSport with AppleTalk networking is functionally equivalent to a real Apple IIgs with a LocalTalk/EtherTalk bridge. Originally, AppleTalk employed the &quot;LocalTalk&quot; physical layer, which requires special hardware not found on modern computers. GSport converts LocalTalk to EtherTalk, a somewhat more modern physical layer using familiar Ethernet cabling. Internally, GSport emulates the Zilog SCC chip in the IIgs, communicates with unmodified Apple-provided networking software built-in to the IIgs and GS/OS, and converts the network traffic to EtherTalk.</p></div>
<div class="section">
<h3>Limitations<a name="Limitations"></a></h3>
<ul>
<li>The IIgs hardware and GSport only support AppleTalk using LocalTalk. Neither are compatible with file or print sharing functions in modern computers. Instead, run a compatible network server, such as A2SERVER, Netatalk 2.x, or AppleShare.</li>
<li>A wireless network may not work because many wireless adapters drop EtherTalk packets. Instead, use a wired Ethernet connection.</li>
<li>AppleTalk bridging has been tested with System 6.0.1 and System 5.0.2 on ROM03. Booting from a local disk or from the network works. Other ROM revisions and system software may not work.</li>
<li>The SCC baud rate is incorrect because the GSport does not emulate line coding. Still, emulated network speed should be close to the 230.4kbps speed of a real LocalTalk network.</li>
<li>The bridge supports Windows using Visual Studio, Cygwin, and Linux (x86 and Raspberry Pi). Other platforms should be straightforward, but I do not have a suitable build environment.</li>
<li>The bridge requires an AppleTalk router on the network. The bridge should work in both a routerless and router-filled network, and future revisions will remove this limitation.</li>
<li>The bridge works with simple networks consisting of a single network on a single segment with a single zone. The bridge should function with all valid network configurations and hardware routers, and future revisions will remove this limitation. Other configurations might not work, and I welcome reports.</li>
<li>The bridge implements the non-extended method for acquiring the network number. Interoperability would likely be better using the extended method, but this method is much more complex.</li></ul></div>
<div class="section">
<h3>Credits<a name="Credits"></a></h3>
<p>Thanks to Gursharan Sidhu, Richard Andrews, and Alan Oppenheimer for creating and documenting AppleTalk.</p>
<p>Thanks to Kent Dickey and the GSport contributors for GSport and the original SCC emulation.</p>
<p>Thanks to David Schmenk for testing, encouragement, and Raspberry Pi support.</p>
<p>Thanks to Ivan Drucker for A2SERVER.</p>
<p>Thanks to the Gus emulator engineers for showing that AppleTalk emulation is possible.</p>
<p>Thanks to James Littlejohn for discussions about extending the capabilities of the Apple IIgs.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2010-2017
                      GSport Contributors.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  <!-- Piwik --> <script type="text/javascript"> var pkBaseURL = (("https:" == document.location.protocol) ? "https://sourceforge.net/apps/piwik/gsport/" : "http://sourceforge.net/apps/piwik/gsport/"); document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E")); </script><script type="text/javascript"> try { var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 1);piwikTracker.trackPageView(); piwikTracker.enableLinkTracking();} catch( err ) {} </script><noscript><p><img src="http://sourceforge.net/apps/piwik/gsport/piwik.php?idsite=1" style="border:0" alt=""/></p></noscript><!-- End Piwik Tag -->
</html>
